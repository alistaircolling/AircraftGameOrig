<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="100%" xmlns:components="view.components.*">
	
	<fx:Script>
		<![CDATA[
			import events.ChangeStateEvent;
			
			import model.vo.GraphResultsVO;
			
			import signals.ChangeState;
			
			private var _iteration:uint;
			
			[Inject]
			public var changeState
			
			public function setData( vo:GraphResultsVO ):void{
				
				//set on the graph component
				graph.setData(vo);
				
			}
			
			
			protected function continue_clickHandler(event:MouseEvent):void
			{
				//need to change the state to input
				
				
				if (_iteration <3){
					var e:ChangeStateEvent = new ChangeStateEvent(ChangeState.ENTER_SCREEN);	
					dispatchEvent(e);
				}else{
					var f:ChangeStateEvent = new ChangeStateEvent(ChangeState.ENTER_SCREEN);
					f.state = "finalScreen";
					
					dispatchEvent(f);
				}
				
			}
			
			public function get iteration():uint
			{
				return _iteration;
			}
			
			public function set iteration(value:uint):void
			{
				_iteration = value;
				turn.text = "(Turn "+value.toString()+" of 3)"; 
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:Panel width="800" height="600" horizontalCenter="0" top="80" >
		<s:VGroup width="800" height="600" horizontalAlign="center" horizontalCenter="0">
			
			<s:Group width="800" height="55" layoutDirection="ltr">
				<s:HGroup>
					
				<s:Label text="Results Graph" />
				<s:Label id="turn" text="Turn-------"/>
				<s:Label text="Legend to go here"/>
				</s:HGroup>
				<s:Button id="continueBtn" label="continue" click="continue_clickHandler(event)" right="10" />
			</s:Group>
			
			<components:GraphComponent id="graph" horizontalCenter="0" bottom="20" verticalCenter="150"/>
		</s:VGroup>
	</s:Panel>
	
</s:Group>
